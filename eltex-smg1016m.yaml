zabbix_export:
  version: '6.4'
  template_groups:
    - uuid: 1d12408342854fd5a4436dd6d5d1bd4a
      name: Templates/Telephony
  templates:
    - uuid: 8248272de22045748489599f2a9374a4
      template: 'Eltex SMG1016m'
      name: 'Eltex SMG1016m'
      groups:
        - name: Templates/Telephony
      items:
        - uuid: b1d119e85bda4010afdbbbebc90d8d73
          name: 'Active Call Count'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.1.29.42.1.0
          key: ELTEX-SMG.activeCallCount.0
        - uuid: 026a301e4faa4628871409da9b70aa74
          name: 'CPU Usage'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.1.29.37.1.9.1
          key: ELTEX-SMG.cpuUsage.1
          history: 30d
          value_type: FLOAT
          triggers:
            - uuid: 3d233726b62849df8c4841fff58a15b7
              expression: 'last(/Eltex SMG1016m/ELTEX-SMG.cpuUsage.1)>50'
              name: 'Eltex SMG: High CPU usage'
              priority: AVERAGE
        - uuid: 0fc17759e1d746f3ae7a1291dcadf632
          name: 'Registration Count'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.1.29.42.2.0
          key: ELTEX-SMG.registrationCount.0
          triggers:
            - uuid: 933c2eb1875e4597aa2966f3fa5dea59
              expression: 'last(/Eltex SMG1016m/ELTEX-SMG.registrationCount.0)<{$SIP.REGISTER.MIN}'
              name: 'Too few registered phones'
              priority: WARNING
        - uuid: 2c1aa22f837e441ebefca01d9deb6857
          name: Model
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.1.29.48.0
          key: ELTEX-SMG.smgDevModel.0
          delay: 6h
          trends: '0'
          value_type: CHAR
          inventory_link: MODEL
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 24h
        - uuid: a317092ee7824ec7886e803e62ad72b2
          name: 'Fan sensor 0'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.1.29.35.3.0
          key: ELTEX-SMG.smgFan0.0
          delay: 5m
          units: rpm
        - uuid: 0f066d3f9aa442d396b929e0423bdf13
          name: 'Fan sensor 1'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.1.29.35.4.0
          key: ELTEX-SMG.smgFan1.0
          delay: 5m
          units: rpm
        - uuid: 12e661949e4445878b38038f2ba16448
          name: 'Fan sensor 2'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.1.29.35.5.0
          key: ELTEX-SMG.smgFan2.0
          delay: 5m
          status: DISABLED
          units: rpm
          description: 'только для модели SMG2016'
        - uuid: e1f4f7a256bd42009c297ac7a6b04f1e
          name: 'Fan sensor 3'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.1.29.35.6.0
          key: ELTEX-SMG.smgFan3.0
          delay: 5m
          status: DISABLED
          units: rpm
          description: 'только для модели SMG2016'
        - uuid: 19ca168e676e4d428d042017cd4f8a0e
          name: 'Free memory'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.1.29.33.0
          key: ELTEX-SMG.smgFreeRam.0
          delay: 5m
          units: kB
        - uuid: f98b0d5c86b048c283255326c783a3f7
          name: 'Free disk space'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.1.29.32.0
          key: ELTEX-SMG.smgFreeSpace.0
          delay: 5m
          value_type: FLOAT
          units: MB
        - uuid: 88937e4476ef4e7787266b87d610cd64
          name: 'Firmware Version'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.1.29.3.0
          key: ELTEX-SMG.smgFwVersion.0
          delay: 6h
          trends: '0'
          value_type: CHAR
          inventory_link: SOFTWARE
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 24h
        - uuid: f9ef8d3082eb49fb8131f1907f8cc3ee
          name: 'Temperature sensor 1'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.1.29.35.1.0
          key: ELTEX-SMG.smgTemperature1.0
          delay: 5m
          value_type: FLOAT
          units: C
        - uuid: fccb392309f14659985fe2bfeb6b5463
          name: 'Temperature sensor 2'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.1.29.35.2.0
          key: ELTEX-SMG.smgTemperature2.0
          delay: 5m
          value_type: FLOAT
          units: C
        - uuid: 221e3aeb419a499bb6b1253a262cf042
          name: 'Serial Number'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.4.3.0
          key: ELTEX-SMI-ACTUAL.eltexLtd.4.3.0
          delay: 6h
          trends: '0'
          value_type: CHAR
          inventory_link: SERIALNO_A
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 24h
        - uuid: 6c769abbed1f4f9e87ab5bdc5563737d
          name: 'Firmware OS Version'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.35265.4.5.0
          key: ELTEX-SMI-ACTUAL.eltexLtd.4.5.0
          delay: 6h
          trends: '0'
          value_type: CHAR
          inventory_link: OS
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 24h
        - uuid: 068d64ce29d2454d8a5128489e861594
          name: 'ICMP ping'
          type: SIMPLE
          key: icmpping
          history: 7d
          valuemap:
            name: 'Service state'
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 0eac4cb7411d4bfd908f789b2f199d06
              expression: 'max(/Eltex SMG1016m/icmpping,#3)=0'
              name: 'Eltex SMG: Unavailable by ICMP ping'
              priority: HIGH
              description: 'Last three attempts returned timeout.  Please check device connectivity.'
              tags:
                - tag: scope
                  value: availability
        - uuid: ad647cdd730e4f968044664f781529b1
          name: 'ICMP loss'
          type: SIMPLE
          key: icmppingloss
          history: 7d
          value_type: FLOAT
          units: '%'
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: fadaff3f6fd74812b6bad9c131026981
              expression: 'min(/Eltex SMG1016m/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/Eltex SMG1016m/icmppingloss,5m)<100'
              name: 'Eltex SMG: High ICMP ping loss'
              opdata: 'Loss: {ITEM.LASTVALUE1}'
              priority: WARNING
              dependencies:
                - name: 'Eltex SMG: Unavailable by ICMP ping'
                  expression: 'max(/Eltex SMG1016m/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: 632e631b8e654603a3c708ff18f7ffdf
          name: 'ICMP response time'
          type: SIMPLE
          key: icmppingsec
          history: 7d
          value_type: FLOAT
          units: s
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 91b53de4fabf403f96722299a7f469a8
              expression: 'avg(/Eltex SMG1016m/icmppingsec,5m)>{$ICMP_RESPONSE_TIME_WARN}'
              name: 'Eltex SMG: High ICMP ping response time'
              opdata: 'Value: {ITEM.LASTVALUE1}'
              priority: WARNING
              dependencies:
                - name: 'Eltex SMG: High ICMP ping loss'
                  expression: 'min(/Eltex SMG1016m/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/Eltex SMG1016m/icmppingloss,5m)<100'
                - name: 'Eltex SMG: Unavailable by ICMP ping'
                  expression: 'max(/Eltex SMG1016m/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: ceb927700c504f0da633d0590b6b7a55
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          delay: '0'
          history: 7d
          trends: '0'
          value_type: LOG
          description: 'The item is used to collect all SNMP traps unmatched by other snmptrap items'
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          tags:
            - tag: component
              value: network
        - uuid: b42d4619c56e45bbb9bed2aa099d8a49
          name: 'System contact details'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.4.0
          key: 'system.contact[sysContact.0]'
          delay: 15m
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.
          inventory_link: CONTACT
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 15ff852eae994cd290b3ad316b9ccc30
          name: 'System description'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.1.0
          key: 'system.descr[sysDescr.0]'
          delay: 15m
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            A textual description of the entity. This value should
            include the full name and version identification of the system's hardware type, software operating-system, and
            networking software.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 7771e91eaf2f46bfa99c23322c3ac385
          name: 'Uptime (hardware)'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.25.1.1.0
          key: 'system.hw.uptime[hrSystemUptime.0]'
          history: 7d
          trends: '0'
          units: uptime
          description: |
            MIB: HOST-RESOURCES-MIB
            The amount of time since this host was last initialized. Note that this is different from sysUpTime in the SNMPv2-MIB [RFC1907] because sysUpTime is the uptime of the network management portion of the system.
          preprocessing:
            - type: CHECK_NOT_SUPPORTED
              parameters:
                - ''
              error_handler: CUSTOM_VALUE
              error_handler_params: '0'
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: 5673ada5d8bc4b408dcbba591bd8fb35
          name: 'System location'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.6.0
          key: 'system.location[sysLocation.0]'
          delay: 15m
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The physical location of this node (e.g., `telephone closet, 3rd floor').  If the location is unknown, the value is the zero-length string.
          inventory_link: LOCATION
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 4f82f6ac2ca04b88af512cc354f71386
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.5.0
          key: system.name
          delay: 15m
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name.  If the name is unknown, the value is the zero-length string.
          inventory_link: NAME
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 6636f35b7a8441c08abb28af4a6d0aa4
              expression: 'last(/Eltex SMG1016m/system.name,#1)<>last(/Eltex SMG1016m/system.name,#2) and length(last(/Eltex SMG1016m/system.name))>0'
              name: 'Eltex SMG: System name has changed'
              event_name: 'Eltex SMG: System name has changed (new name: {ITEM.VALUE})'
              priority: INFO
              description: 'The name of the system has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
                - tag: scope
                  value: security
        - uuid: b4c815a0c58a40b6a5938db437224d81
          name: 'Uptime (network)'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.3.0
          key: 'system.net.uptime[sysUpTime.0]'
          history: 7d
          trends: '0'
          units: uptime
          description: |
            MIB: SNMPv2-MIB
            The time (in hundredths of a second) since the network management portion of the system was last re-initialized.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: 20111c55fc124acbaca1d1954507201a
          name: 'System object ID'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.2.0
          key: 'system.objectid[sysObjectID.0]'
          delay: 15m
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The vendor's authoritative identification of the network management subsystem contained in the entity.  This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its `Fred Router'.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: feb771788a7545a6ad1a4e76714a73dc
          name: 'SNMP agent availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          history: 7d
          description: |
            Availability of SNMP checks on the host. The value of this item corresponds to availability icons in the host list.
            Possible value:
            0 - not available
            1 - available
            2 - unknown
          valuemap:
            name: zabbix.host.available
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 88eaba25b187487094a5700c566283d5
              expression: 'max(/Eltex SMG1016m/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
              name: 'Eltex SMG: No SNMP data collection'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'SNMP is not available for polling. Please check device connectivity and SNMP settings.'
              dependencies:
                - name: 'Eltex SMG: Unavailable by ICMP ping'
                  expression: 'max(/Eltex SMG1016m/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
      discovery_rules:
        - uuid: 576caff0fc2f4f25aa365182af7a65a1
          name: 'E1 interfaces discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#INFOPHYSTATE},1.3.6.1.4.1.35265.1.29.7.1.2,{#STATEALARM},1.3.6.1.4.1.35265.1.29.7.1.5,{#STATEPHYWORK},1.3.6.1.4.1.35265.1.29.7.1.6,{#LINKSTATE},1.3.6.1.4.1.35265.1.29.7.1.7,{#LINENAME},1.3.6.1.4.1.35265.1.29.7.1.23]'
          key: eone.if.discovery
          delay: 2h
          filter:
            evaltype: AND
            conditions:
              - macro: '{#LINENAME}'
                value: '{$E1.LINENAME.MATCHES}'
                formulaid: A
              - macro: '{#LINENAME}'
                value: '{$E1.LINENAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          item_prototypes:
            - uuid: 6c472b0575864a24a889484976e74389
              name: 'E1line {#LINENAME}: Bit error rate counter (BER)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.7.1.12.{#SNMPINDEX}'
              key: 'eOne[BERCount.{#SNMPINDEX}]'
              delay: 4m
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
            - uuid: cdd1f2ee490544d1bd6bc8d76e96aa88
              name: 'E1line {#LINENAME}: CRC4 error counter (CEC)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.7.1.14.{#SNMPINDEX}'
              key: 'eOne[CEC.{#SNMPINDEX}]'
              delay: 4m
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
            - uuid: 3852053681e44b82a6f5d2274383eea0
              name: 'E1line {#LINENAME}: Code violation counter (CVC)'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.7.1.13.{#SNMPINDEX}'
              key: 'eOne[CVC.{#SNMPINDEX}]'
              delay: 4m
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
            - uuid: af80aa331ca946d6ad778eea6e264ea9
              name: 'E1line {#LINENAME}: Info: Phy state'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.7.1.2.{#SNMPINDEX}'
              key: 'eOne[InfoPhyState.{#SNMPINDEX}]'
              valuemap:
                name: SMGEOnePhyState
              trigger_prototypes:
                - uuid: 7fb413ac30d440cfba4a05f3a3316005
                  expression: 'last(/Eltex SMG1016m/eOne[InfoPhyState.{#SNMPINDEX}])<>6'
                  name: 'E1line {#LINENAME}: Info phy state is not "work"'
                  opdata: '{ITEM.LASTVALUE1}'
                  priority: WARNING
                  manual_close: 'YES'
            - uuid: c5d8c33f9b1040ada2996bc077ee1380
              name: 'E1line {#LINENAME}: Line state: Alarm'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.7.1.5.{#SNMPINDEX}'
              key: 'eOne[LineStateAlarm.{#SNMPINDEX}]'
              valuemap:
                name: SMGStateAlarm
              trigger_prototypes:
                - uuid: 27b9165b4022436bae1f9330924d6a74
                  expression: 'last(/Eltex SMG1016m/eOne[LineStateAlarm.{#SNMPINDEX}],#1)<>last(/Eltex SMG1016m/eOne[LineStateAlarm.{#SNMPINDEX}],#2)'
                  name: 'E1line {#LINENAME}: Alarm status changed'
                  opdata: '{ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  manual_close: 'YES'
            - uuid: f5a14a7d6f3c46b19b47ef2a9516541f
              name: 'E1line {#LINENAME}: Logical link state'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.7.1.7.{#SNMPINDEX}'
              key: 'eOne[LinkState.{#SNMPINDEX}]'
              valuemap:
                name: SMGWork
              trigger_prototypes:
                - uuid: 99c459777b7745fa8d01a63fdfa95404
                  expression: 'last(/Eltex SMG1016m/eOne[LinkState.{#SNMPINDEX}])<>1'
                  name: 'E1line {#LINENAME}: Link down'
                  opdata: '{ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  manual_close: 'YES'
            - uuid: 9c57a6cb294d441f950f18244c2d7fe3
              name: 'E1line {#LINENAME}: RX counter'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.7.1.16.{#SNMPINDEX}'
              key: 'eOne[RxCount.{#SNMPINDEX}]'
              delay: 4m
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
            - uuid: baf7f8dd9f02454dafed76582847ccc2
              name: 'E1line {#LINENAME}: RX CRC'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.7.1.21.{#SNMPINDEX}'
              key: 'eOne[RxCRC.{#SNMPINDEX}]'
              delay: 4m
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
            - uuid: fdfbe190c51245f08093034048ff7cdc
              name: 'E1line {#LINENAME}: Slip Down'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.7.1.11.{#SNMPINDEX}'
              key: 'eOne[SlipDown.{#SNMPINDEX}]'
              delay: 4m
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
            - uuid: e6ec8473221a459890ebdbd6c7a1e7d0
              name: 'E1line {#LINENAME}: Slip Up'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.7.1.10.{#SNMPINDEX}'
              key: 'eOne[SlipUp.{#SNMPINDEX}]'
              delay: 4m
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
            - uuid: 3874b03eebc04e379528f46765b6ee56
              name: 'E1line {#LINENAME}: TX counter'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.7.1.17.{#SNMPINDEX}'
              key: 'eOne[TxCount.{#SNMPINDEX}]'
              delay: 4m
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
          graph_prototypes:
            - uuid: 256e1207201e448da790ef631cd05bc2
              name: 'E1line {#LINENAME} stats'
              graph_items:
                - drawtype: BOLD_LINE
                  color: 1A7C11
                  calc_fnc: ALL
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'eOne[RxCount.{#SNMPINDEX}]'
                - sortorder: '1'
                  drawtype: BOLD_LINE
                  color: '274482'
                  calc_fnc: ALL
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'eOne[TxCount.{#SNMPINDEX}]'
                - sortorder: '2'
                  color: FF8000
                  calc_fnc: ALL
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'eOne[SlipUp.{#SNMPINDEX}]'
                - sortorder: '3'
                  color: FFBF00
                  calc_fnc: ALL
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'eOne[SlipDown.{#SNMPINDEX}]'
                - sortorder: '4'
                  color: BF00FF
                  calc_fnc: ALL
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'eOne[RxCRC.{#SNMPINDEX}]'
                - sortorder: '5'
                  color: FC6EA3
                  calc_fnc: ALL
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'eOne[BERCount.{#SNMPINDEX}]'
                - sortorder: '6'
                  color: F4511E
                  calc_fnc: ALL
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'eOne[CVC.{#SNMPINDEX}]'
                - sortorder: '7'
                  color: AC8C14
                  calc_fnc: ALL
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'eOne[CEC.{#SNMPINDEX}]'
        - uuid: d0e8595477d64b398343849d5f8b5406
          name: 'MSP discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#STATE},1.3.6.1.4.1.35265.1.29.9.1.2]'
          key: msp.discovery
          delay: 2h
          filter:
            evaltype: AND
            conditions:
              - macro: '{#STATE}'
                value: '{$MSP.STATE.MATCHES}'
                formulaid: A
              - macro: '{#STATE}'
                value: '{$MSP.STATE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          lifetime: 10d
          item_prototypes:
            - uuid: 2b5abd90b35d4d1c8bad248c86028ccc
              name: 'MSP {#SNMPINDEX} payload'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.9.1.8.{#SNMPINDEX}'
              key: 'msp[Payload.{#SNMPINDEX}]'
              value_type: FLOAT
              units: '%'
            - uuid: 6ba5617b89044200aa2fb0f3dfbc184e
              name: 'MSP {#SNMPINDEX} state'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.9.1.2.{#SNMPINDEX}'
              key: 'msp[State.{#SNMPINDEX}]'
              valuemap:
                name: SMGMSPState
            - uuid: c2fe57669e54462496070db7b20b5fa4
              name: 'MSP {#SNMPINDEX} used connections'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.9.1.3.{#SNMPINDEX}'
              key: 'msp[UsedConn.{#SNMPINDEX}]'
        - uuid: 39bc7012291b4b638390280f9966f2c7
          name: 'Network interfaces discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#IFOPERSTATUS},1.3.6.1.2.1.2.2.1.8,{#IFADMINSTATUS},1.3.6.1.2.1.2.2.1.7,{#IFNAME},1.3.6.1.2.1.2.2.1.2,{#IFDESCR},1.3.6.1.2.1.2.2.1.2,{#IFTYPE},1.3.6.1.2.1.2.2.1.3]'
          key: net.if.discovery
          delay: 2h
          filter:
            evaltype: AND
            conditions:
              - macro: '{#IFADMINSTATUS}'
                value: '{$NET.IF.IFADMINSTATUS.MATCHES}'
                formulaid: A
              - macro: '{#IFADMINSTATUS}'
                value: '{$NET.IF.IFADMINSTATUS.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              - macro: '{#IFDESCR}'
                value: '{$NET.IF.IFDESCR.MATCHES}'
                formulaid: C
              - macro: '{#IFDESCR}'
                value: '{$NET.IF.IFDESCR.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: D
              - macro: '{#IFNAME}'
                value: '{$NET.IF.IFNAME.MATCHES}'
                formulaid: E
              - macro: '{#IFNAME}'
                value: '{$NET.IF.IFNAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: F
              - macro: '{#IFOPERSTATUS}'
                value: '{$NET.IF.IFOPERSTATUS.MATCHES}'
                formulaid: G
              - macro: '{#IFOPERSTATUS}'
                value: '{$NET.IF.IFOPERSTATUS.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: H
              - macro: '{#IFTYPE}'
                value: '{$NET.IF.IFTYPE.MATCHES}'
                formulaid: I
              - macro: '{#IFTYPE}'
                value: '{$NET.IF.IFTYPE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: J
          lifetime: 3d
          description: 'Discovering interfaces from IF-MIB.'
          item_prototypes:
            - uuid: c41ec8c873e54522abf6b473df61676b
              name: 'Interface {#IFDESCR}: Inbound packets discarded'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.13.{#SNMPINDEX}'
              key: 'net.if.in.discards[ifInDiscards.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              description: |
                MIB: IF-MIB
                The number of inbound packets which were chosen to be discarded
                even though no errors had been detected to prevent their being deliverable to a higher-layer protocol.
                One possible reason for discarding such a packet could be to free up buffer space.
                Discontinuities in the value of this counter can occur at re-initialization of the management system,
                and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 45d3436c61ec4838927f63d35859218a
              name: 'Interface {#IFDESCR}: Inbound packets with errors'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.14.{#SNMPINDEX}'
              key: 'net.if.in.errors[ifInErrors.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              description: |
                MIB: IF-MIB
                For packet-oriented interfaces, the number of inbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of inbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 949d0a16a93c4afb8d82b8b1f24e91de
              name: 'Interface {#IFDESCR}: Bits received'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.10.{#SNMPINDEX}'
              key: 'net.if.in[ifInOctets.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              units: bps
              description: |
                MIB: IF-MIB
                The total number of octets received on the interface,including framing characters. Discontinuities in the value of this counter can occur at re-initialization of the management system, and another times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 51489875b8c74723837b2b1aaba081cf
              name: 'Interface {#IFDESCR}: Outbound packets discarded'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.19.{#SNMPINDEX}'
              key: 'net.if.out.discards[ifOutDiscards.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              description: |
                MIB: IF-MIB
                The number of outbound packets which were chosen to be discarded
                even though no errors had been detected to prevent their being deliverable to a higher-layer protocol.
                One possible reason for discarding such a packet could be to free up buffer space.
                Discontinuities in the value of this counter can occur at re-initialization of the management system,
                and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 8be6ef6b7c52444fa80b6253a5fb2947
              name: 'Interface {#IFDESCR}: Outbound packets with errors'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.20.{#SNMPINDEX}'
              key: 'net.if.out.errors[ifOutErrors.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              description: |
                MIB: IF-MIB
                For packet-oriented interfaces, the number of outbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of outbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 42fc5e28e7564ba382d208d7639e62b9
              name: 'Interface {#IFDESCR}: Bits sent'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.16.{#SNMPINDEX}'
              key: 'net.if.out[ifOutOctets.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              units: bps
              description: |
                MIB: IF-MIB
                The total number of octets transmitted out of the interface, including framing characters. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 86efab9ab7b9414db99a62784417d268
              name: 'Interface {#IFDESCR}: Speed'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.5.{#SNMPINDEX}'
              key: 'net.if.speed[ifSpeed.{#SNMPINDEX}]'
              delay: 5m
              history: 7d
              trends: '0'
              units: bps
              description: |
                MIB: IF-MIB
                An estimate of the interface's current bandwidth in bits per second.
                For interfaces which do not vary in bandwidth or for those where no accurate estimation can be made,
                this object should contain the nominal bandwidth.
                If the bandwidth of the interface is greater than the maximum value reportable by this object then
                this object should report its maximum value (4,294,967,295) and ifHighSpeed must be used to report the interface's speed.
                For a sub-layer which has no concept of bandwidth, this object should be zero.
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: fca9619a476f459e9c2e79f95c6eea86
              name: 'Interface {#IFDESCR}: Operational status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}'
              key: 'net.if.status[ifOperStatus.{#SNMPINDEX}]'
              history: 7d
              trends: '0'
              description: |
                MIB: IF-MIB
                The current operational state of the interface.
                - The testing(3) state indicates that no operational packet scan be passed
                - If ifAdminStatus is down(2) then ifOperStatus should be down(2)
                - If ifAdminStatus is changed to up(1) then ifOperStatus should change to up(1) if the interface is ready to transmit and receive network traffic
                - It should change todormant(5) if the interface is waiting for external actions (such as a serial line waiting for an incoming connection)
                - It should remain in the down(2) state if and only if there is a fault that prevents it from going to the up(1) state
                - It should remain in the notPresent(6) state if the interface has missing(typically, hardware) components.
              valuemap:
                name: 'IF-MIB::ifOperStatus'
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
              trigger_prototypes:
                - uuid: 8c0977ecd1f747e19f3c6c4034e66b02
                  expression: '{$IFCONTROL:"{#IFNAME}"}=1 and last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
                  name: 'Interface {#IFDESCR}: Link down'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: |
                    This trigger expression works as follows:
                    1. It can be triggered if the operations status is down.
                    2. `{$IFCONTROL:"{#IFNAME}"}=1` - a user can redefine context macro to value - 0. That marks this interface as not important. No new trigger will be fired if this interface is down.
                    3. `{TEMPLATE_NAME:METRIC.diff()}=1` - the trigger fires only if the operational status was up to (1) sometime before (so, do not fire for the 'eternal off' interfaces.)
                    
                    WARNING: if closed manually - it will not fire again on the next poll, because of .diff.
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 7ff735c73c5e4e49961b7a3bd09f28af
              name: 'Interface {#IFDESCR}: Interface type'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.3.{#SNMPINDEX}'
              key: 'net.if.type[ifType.{#SNMPINDEX}]'
              delay: 1h
              history: 7d
              trends: '0'
              description: |
                MIB: IF-MIB
                The type of interface.
                Additional values for ifType are assigned by the Internet Assigned Numbers Authority (IANA),
                through updating the syntax of the IANAifType textual convention.
              valuemap:
                name: 'IF-MIB::ifType'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
          trigger_prototypes:
            - uuid: 422d7e0c26bb4b75964b9aa496e9b873
              expression: |
                change(/Eltex SMG1016m/net.if.speed[ifSpeed.{#SNMPINDEX}])<0 and last(/Eltex SMG1016m/net.if.speed[ifSpeed.{#SNMPINDEX}])>0
                and (
                last(/Eltex SMG1016m/net.if.type[ifType.{#SNMPINDEX}])=6 or
                last(/Eltex SMG1016m/net.if.type[ifType.{#SNMPINDEX}])=7 or
                last(/Eltex SMG1016m/net.if.type[ifType.{#SNMPINDEX}])=11 or
                last(/Eltex SMG1016m/net.if.type[ifType.{#SNMPINDEX}])=62 or
                last(/Eltex SMG1016m/net.if.type[ifType.{#SNMPINDEX}])=69 or
                last(/Eltex SMG1016m/net.if.type[ifType.{#SNMPINDEX}])=117
                )
                and
                (last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2)
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                (change(/Eltex SMG1016m/net.if.speed[ifSpeed.{#SNMPINDEX}])>0 and last(/Eltex SMG1016m/net.if.speed[ifSpeed.{#SNMPINDEX}],#2)>0) or
                (last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}])=2)
              name: 'Interface {#IFDESCR}: Ethernet has changed to lower speed than it was before'
              opdata: 'Current reported speed: {ITEM.LASTVALUE1}'
              priority: INFO
              description: 'This Ethernet connection has transitioned down from its known maximum speed. This might be a sign of autonegotiation issues. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              dependencies:
                - name: 'Interface {#IFDESCR}: Link down'
                  expression: '{$IFCONTROL:"{#IFNAME}"}=1 and last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))'
                  recovery_expression: 'last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
              tags:
                - tag: scope
                  value: performance
            - uuid: 3d3db5e5bb1047f18048e6eac936a134
              expression: |
                (avg(/Eltex SMG1016m/net.if.in[ifInOctets.{#SNMPINDEX}],15m)>({$IF.UTIL.MAX:"{#IFNAME}"}/100)*last(/Eltex SMG1016m/net.if.speed[ifSpeed.{#SNMPINDEX}]) or
                avg(/Eltex SMG1016m/net.if.out[ifOutOctets.{#SNMPINDEX}],15m)>({$IF.UTIL.MAX:"{#IFNAME}"}/100)*last(/Eltex SMG1016m/net.if.speed[ifSpeed.{#SNMPINDEX}])) and
                last(/Eltex SMG1016m/net.if.speed[ifSpeed.{#SNMPINDEX}])>0
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                avg(/Eltex SMG1016m/net.if.in[ifInOctets.{#SNMPINDEX}],15m)<(({$IF.UTIL.MAX:"{#IFNAME}"}-3)/100)*last(/Eltex SMG1016m/net.if.speed[ifSpeed.{#SNMPINDEX}]) and
                avg(/Eltex SMG1016m/net.if.out[ifOutOctets.{#SNMPINDEX}],15m)<(({$IF.UTIL.MAX:"{#IFNAME}"}-3)/100)*last(/Eltex SMG1016m/net.if.speed[ifSpeed.{#SNMPINDEX}])
              name: 'Interface {#IFDESCR}: High bandwidth usage'
              event_name: 'Interface {#IFDESCR}: High bandwidth usage (>{$IF.UTIL.MAX:"{#IFNAME}"}%)'
              opdata: 'In: {ITEM.LASTVALUE1}, out: {ITEM.LASTVALUE3}, speed: {ITEM.LASTVALUE2}'
              priority: WARNING
              description: 'The utilization of the network interface is close to its estimated maximum bandwidth.'
              manual_close: 'YES'
              dependencies:
                - name: 'Interface {#IFDESCR}: Link down'
                  expression: '{$IFCONTROL:"{#IFNAME}"}=1 and last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))'
                  recovery_expression: 'last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
              tags:
                - tag: scope
                  value: performance
            - uuid: 1b20a7b4dd9e47139ef5a41e09c63c43
              expression: |
                min(/Eltex SMG1016m/net.if.in.errors[ifInErrors.{#SNMPINDEX}],5m)>{$IF.ERRORS.WARN:"{#IFNAME}"}
                or min(/Eltex SMG1016m/net.if.out.errors[ifOutErrors.{#SNMPINDEX}],5m)>{$IF.ERRORS.WARN:"{#IFNAME}"}
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                max(/Eltex SMG1016m/net.if.in.errors[ifInErrors.{#SNMPINDEX}],5m)<{$IF.ERRORS.WARN:"{#IFNAME}"}*0.8
                and max(/Eltex SMG1016m/net.if.out.errors[ifOutErrors.{#SNMPINDEX}],5m)<{$IF.ERRORS.WARN:"{#IFNAME}"}*0.8
              name: 'Interface {#IFDESCR}: High error rate'
              event_name: 'Interface {#IFDESCR}: High error rate (>{$IF.ERRORS.WARN:"{#IFNAME}"} for 5m)'
              opdata: 'errors in: {ITEM.LASTVALUE1}, errors out: {ITEM.LASTVALUE2}'
              priority: WARNING
              description: 'It recovers when it is below 80% of the `{$IF.ERRORS.WARN:"{#IFNAME}"}` threshold.'
              manual_close: 'YES'
              dependencies:
                - name: 'Interface {#IFDESCR}: Link down'
                  expression: '{$IFCONTROL:"{#IFNAME}"}=1 and last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))'
                  recovery_expression: 'last(/Eltex SMG1016m/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
              tags:
                - tag: scope
                  value: performance
          graph_prototypes:
            - uuid: 950daa6f7a6a41a6a71bab2088577ef2
              name: 'Interface {#IFDESCR}: Network traffic'
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 199C0D
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'net.if.in[ifInOctets.{#SNMPINDEX}]'
                - sortorder: '1'
                  drawtype: BOLD_LINE
                  color: F63100
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'net.if.out[ifOutOctets.{#SNMPINDEX}]'
                - sortorder: '2'
                  color: 00611C
                  yaxisside: RIGHT
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'net.if.out.errors[ifOutErrors.{#SNMPINDEX}]'
                - sortorder: '3'
                  color: F7941D
                  yaxisside: RIGHT
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'net.if.in.errors[ifInErrors.{#SNMPINDEX}]'
                - sortorder: '4'
                  color: FC6EA3
                  yaxisside: RIGHT
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'net.if.out.discards[ifOutDiscards.{#SNMPINDEX}]'
                - sortorder: '5'
                  color: 6C59DC
                  yaxisside: RIGHT
                  item:
                    host: 'Eltex SMG1016m'
                    key: 'net.if.in.discards[ifInDiscards.{#SNMPINDEX}]'
        - uuid: 6c05c78566d940dd8e02647c8b2ae319
          name: 'EtherLike-MIB Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.2.1.10.7.2.1.19,{#IFOPERSTATUS},1.3.6.1.2.1.2.2.1.8,{#IFALIAS},1.3.6.1.2.1.31.1.1.1.18,{#IFNAME},1.3.6.1.2.1.31.1.1.1.1,{#IFDESCR},1.3.6.1.2.1.2.2.1.2]'
          key: net.if.duplex.discovery
          delay: 12h
          status: DISABLED
          filter:
            evaltype: AND
            conditions:
              - macro: '{#IFOPERSTATUS}'
                value: '1'
                formulaid: A
              - macro: '{#SNMPVALUE}'
                value: (2|3)
                formulaid: B
          lifetime: 3d
          description: 'Discovering interfaces from IF-MIB and EtherLike-MIB. Interfaces with up(1) Operational Status are discovered.'
          item_prototypes:
            - uuid: 2a47521783ed4f3ab4afa954e76ba150
              name: 'Interface {#IFNAME}({#IFALIAS}): Duplex status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.10.7.2.1.19.{#SNMPINDEX}'
              key: 'net.if.duplex[dot3StatsDuplexStatus.{#SNMPINDEX}]'
              history: 7d
              description: |
                MIB: EtherLike-MIB
                The current mode of operation of the MAC
                entity.  'unknown' indicates that the current
                duplex mode could not be determined.
                
                Management control of the duplex mode is
                accomplished through the MAU MIB.  When
                an interface does not support autonegotiation,
                or when autonegotiation is not enabled, the
                duplex mode is controlled using
                ifMauDefaultType.  When autonegotiation is
                supported and enabled, duplex mode is controlled
                using ifMauAutoNegAdvertisedBits.  In either
                case, the currently operating duplex mode is
                reflected both in this object and in ifMauType.
                
                Note that this object provides redundant
                information with ifMauType.  Normally, redundant
                objects are discouraged.  However, in this
                instance, it allows a management application to
                determine the duplex status of an interface
                without having to know every possible value of
                ifMauType.  This was felt to be sufficiently
                valuable to justify the redundancy.
                Reference: [IEEE 802.3 Std.], 30.3.1.1.32,aDuplexStatus.
              valuemap:
                name: 'EtherLike-MIB::dot3StatsDuplexStatus'
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
              trigger_prototypes:
                - uuid: 2aec70dc0bcd40d2bfc35a5be10414c3
                  expression: 'last(/Eltex SMG1016m/net.if.duplex[dot3StatsDuplexStatus.{#SNMPINDEX}])=2'
                  name: 'Interface {#IFNAME}({#IFALIAS}): In half-duplex mode'
                  priority: WARNING
                  description: 'Please check autonegotiation settings and cabling'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: performance
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  try {
                      var data = JSON.parse(value);
                  }
                  catch (error) {
                      throw 'Failed to parse JSON of EtherLike-MIB discovery.';
                  }
                  var fields = ['{#SNMPVALUE}','{#IFOPERSTATUS}','{#IFALIAS}','{#IFNAME}','{#IFDESCR}'];
                  data.forEach(function (element) {
                      fields.forEach(function (field) {
                          element[field] = element[field] || '';
                      });
                  });
                  return JSON.stringify(data);
        - uuid: bccd94aa5dcd46f5ac41f24d5e6e0a03
          name: 'SIP interfaces discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SIPIFID},1.3.6.1.4.1.35265.1.29.43.2.1.2,{#SIPIFNAME},1.3.6.1.4.1.35265.1.29.43.2.1.3]'
          key: sip.if.discovery
          delay: 2h
          filter:
            conditions:
              - macro: '{#SIPIFNAME}'
                value: '{$SIP.IFNAME.MATCHES}'
                formulaid: A
              - macro: '{#SIPIFNAME}'
                value: '{$SIP.IFNAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
          lifetime: 10d
          item_prototypes:
            - uuid: cc4654515eef42fea57f0af19a8eeaa4
              name: 'SIPif {#SIPIFNAME}: Accessible'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.43.2.1.7.{#SNMPINDEX}'
              key: 'SIP[IntrfAccessible.{#SNMPINDEX}]'
            - uuid: 7511b870be4a4ee3ad3e5ae6240194d0
              name: 'SIPif {#SIPIFNAME}: Call count'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.35265.1.29.43.2.1.5.{#SNMPINDEX}'
              key: 'SIP[IntrfCallCount.{#SNMPINDEX}]'
            - uuid: 3765e52f78794ef8a493e84a6dd9abde
              name: 'SIPif {#SIPIFNAME}: Mode'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.35265.1.29.43.2.1.4.{#SNMPINDEX}'
              key: 'SIP[IntrfMode.{#SNMPINDEX}]'
              delay: 15m
      tags:
        - tag: class
          value: network
      macros:
        - macro: '{$E1.LINENAME.MATCHES}'
          value: '^.*$'
        - macro: '{$E1.LINENAME.NOT_MATCHES}'
          value: (^\-$)
          description: 'по умолчанию E1-интерфейсы имеют имя "тире", поэтому мы их игнорируем'
        - macro: '{$ICMP_LOSS_WARN}'
          value: '20'
        - macro: '{$ICMP_RESPONSE_TIME_WARN}'
          value: '0.15'
        - macro: '{$IF.ERRORS.WARN}'
          value: '2'
        - macro: '{$IF.UTIL.MAX}'
          value: '95'
        - macro: '{$IFCONTROL}'
          value: '1'
        - macro: '{$MSP.STATE.MATCHES}'
          value: '^.*$'
        - macro: '{$MSP.STATE.NOT_MATCHES}'
          value: (0|2)
          description: '0-notPresent, 2-off'
        - macro: '{$NET.IF.IFADMINSTATUS.MATCHES}'
          value: '^.*'
          description: 'Ignore notPresent(6)'
        - macro: '{$NET.IF.IFADMINSTATUS.NOT_MATCHES}'
          value: ^2$
          description: 'Ignore down(2) administrative status'
        - macro: '{$NET.IF.IFDESCR.MATCHES}'
          value: '.*'
        - macro: '{$NET.IF.IFDESCR.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
        - macro: '{$NET.IF.IFNAME.MATCHES}'
          value: '^.*$'
        - macro: '{$NET.IF.IFNAME.NOT_MATCHES}'
          value: '(^Software Loopback Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9a-z]+$|docker[0-9]+|br-[a-z0-9]{12}|^sm\-port)'
          description: 'Filter out loopbacks, nulls, docker veth links and docker0 bridge by default'
        - macro: '{$NET.IF.IFOPERSTATUS.MATCHES}'
          value: '^.*$'
        - macro: '{$NET.IF.IFOPERSTATUS.NOT_MATCHES}'
          value: ^6$
          description: 'Ignore notPresent(6)'
        - macro: '{$NET.IF.IFTYPE.MATCHES}'
          value: '.*'
        - macro: '{$NET.IF.IFTYPE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
        - macro: '{$SIP.IFNAME.MATCHES}'
          value: '^.*$'
        - macro: '{$SIP.IFNAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
        - macro: '{$SIP.REGISTER.MIN}'
          value: '40'
          description: 'меньше этого числа зарегистрированных абонентов начинать ругаться'
        - macro: '{$SNMP.TIMEOUT}'
          value: 5m
      dashboards:
        - uuid: de5dd9fc1e194f848815214dddf79d8e
          name: 'Network interfaces'
          pages:
            - widgets:
                - type: graphprototype
                  width: '24'
                  height: '5'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        host: 'Eltex SMG1016m'
                        name: 'Interface {#IFDESCR}: Network traffic'
                    - type: INTEGER
                      name: rows
                      value: '1'
      valuemaps:
        - uuid: 60ba73b658b94898b0f3ec022b5d6162
          name: 'EtherLike-MIB::dot3StatsDuplexStatus'
          mappings:
            - value: '1'
              newvalue: unknown
            - value: '2'
              newvalue: halfDuplex
            - value: '3'
              newvalue: fullDuplex
        - uuid: d81a2afd6a40464fab6acbbc0e0e5f35
          name: 'IF-MIB::ifOperStatus'
          mappings:
            - value: '1'
              newvalue: up
            - value: '2'
              newvalue: down
            - value: '4'
              newvalue: unknown
            - value: '5'
              newvalue: dormant
            - value: '6'
              newvalue: notPresent
            - value: '7'
              newvalue: lowerLayerDown
        - uuid: 84f493af33404cd6a4b49f43b71c1b91
          name: 'IF-MIB::ifType'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: regular1822
            - value: '3'
              newvalue: hdh1822
            - value: '4'
              newvalue: ddnX25
            - value: '5'
              newvalue: rfc877x25
            - value: '6'
              newvalue: ethernetCsmacd
            - value: '7'
              newvalue: iso88023Csmacd
            - value: '8'
              newvalue: iso88024TokenBus
            - value: '9'
              newvalue: iso88025TokenRing
            - value: '10'
              newvalue: iso88026Man
            - value: '11'
              newvalue: starLan
            - value: '12'
              newvalue: proteon10Mbit
            - value: '13'
              newvalue: proteon80Mbit
            - value: '14'
              newvalue: hyperchannel
            - value: '15'
              newvalue: fddi
            - value: '16'
              newvalue: lapb
            - value: '17'
              newvalue: sdlc
            - value: '18'
              newvalue: ds1
            - value: '19'
              newvalue: e1
            - value: '20'
              newvalue: basicISDN
            - value: '21'
              newvalue: primaryISDN
            - value: '22'
              newvalue: propPointToPointSerial
            - value: '23'
              newvalue: ppp
            - value: '24'
              newvalue: softwareLoopback
            - value: '25'
              newvalue: eon
            - value: '26'
              newvalue: ethernet3Mbit
            - value: '27'
              newvalue: nsip
            - value: '28'
              newvalue: slip
            - value: '29'
              newvalue: ultra
            - value: '30'
              newvalue: ds3
            - value: '31'
              newvalue: sip
            - value: '32'
              newvalue: frameRelay
            - value: '33'
              newvalue: rs232
            - value: '34'
              newvalue: para
            - value: '35'
              newvalue: arcnet
            - value: '36'
              newvalue: arcnetPlus
            - value: '37'
              newvalue: atm
            - value: '38'
              newvalue: miox25
            - value: '39'
              newvalue: sonet
            - value: '40'
              newvalue: x25ple
            - value: '41'
              newvalue: iso88022llc
            - value: '42'
              newvalue: localTalk
            - value: '43'
              newvalue: smdsDxi
            - value: '44'
              newvalue: frameRelayService
            - value: '45'
              newvalue: v35
            - value: '46'
              newvalue: hssi
            - value: '47'
              newvalue: hippi
            - value: '48'
              newvalue: modem
            - value: '49'
              newvalue: aal5
            - value: '50'
              newvalue: sonetPath
            - value: '51'
              newvalue: sonetVT
            - value: '52'
              newvalue: smdsIcip
            - value: '53'
              newvalue: propVirtual
            - value: '54'
              newvalue: propMultiplexor
            - value: '55'
              newvalue: ieee80212
            - value: '56'
              newvalue: fibreChannel
            - value: '57'
              newvalue: hippiInterface
            - value: '58'
              newvalue: frameRelayInterconnect
            - value: '59'
              newvalue: aflane8023
            - value: '60'
              newvalue: aflane8025
            - value: '61'
              newvalue: cctEmul
            - value: '62'
              newvalue: fastEther
            - value: '63'
              newvalue: isdn
            - value: '64'
              newvalue: v11
            - value: '65'
              newvalue: v36
            - value: '66'
              newvalue: g703at64k
            - value: '67'
              newvalue: g703at2mb
            - value: '68'
              newvalue: qllc
            - value: '69'
              newvalue: fastEtherFX
            - value: '70'
              newvalue: channel
            - value: '71'
              newvalue: ieee80211
            - value: '72'
              newvalue: ibm370parChan
            - value: '73'
              newvalue: escon
            - value: '74'
              newvalue: dlsw
            - value: '75'
              newvalue: isdns
            - value: '76'
              newvalue: isdnu
            - value: '77'
              newvalue: lapd
            - value: '78'
              newvalue: ipSwitch
            - value: '79'
              newvalue: rsrb
            - value: '80'
              newvalue: atmLogical
            - value: '81'
              newvalue: ds0
            - value: '82'
              newvalue: ds0Bundle
            - value: '83'
              newvalue: bsc
            - value: '84'
              newvalue: async
            - value: '85'
              newvalue: cnr
            - value: '86'
              newvalue: iso88025Dtr
            - value: '87'
              newvalue: eplrs
            - value: '88'
              newvalue: arap
            - value: '89'
              newvalue: propCnls
            - value: '90'
              newvalue: hostPad
            - value: '91'
              newvalue: termPad
            - value: '92'
              newvalue: frameRelayMPI
            - value: '93'
              newvalue: x213
            - value: '94'
              newvalue: adsl
            - value: '95'
              newvalue: radsl
            - value: '96'
              newvalue: sdsl
            - value: '97'
              newvalue: vdsl
            - value: '98'
              newvalue: iso88025CRFPInt
            - value: '99'
              newvalue: myrinet
            - value: '100'
              newvalue: voiceEM
            - value: '101'
              newvalue: voiceFXO
            - value: '102'
              newvalue: voiceFXS
            - value: '103'
              newvalue: voiceEncap
            - value: '104'
              newvalue: voiceOverIp
            - value: '105'
              newvalue: atmDxi
            - value: '106'
              newvalue: atmFuni
            - value: '107'
              newvalue: atmIma
            - value: '108'
              newvalue: pppMultilinkBundle
            - value: '109'
              newvalue: ipOverCdlc
            - value: '110'
              newvalue: ipOverClaw
            - value: '111'
              newvalue: stackToStack
            - value: '112'
              newvalue: virtualIpAddress
            - value: '113'
              newvalue: mpc
            - value: '114'
              newvalue: ipOverAtm
            - value: '115'
              newvalue: iso88025Fiber
            - value: '116'
              newvalue: tdlc
            - value: '117'
              newvalue: gigabitEthernet
            - value: '118'
              newvalue: hdlc
            - value: '119'
              newvalue: lapf
            - value: '120'
              newvalue: v37
            - value: '121'
              newvalue: x25mlp
            - value: '122'
              newvalue: x25huntGroup
            - value: '123'
              newvalue: trasnpHdlc
            - value: '124'
              newvalue: interleave
            - value: '125'
              newvalue: fast
            - value: '126'
              newvalue: ip
            - value: '127'
              newvalue: docsCableMaclayer
            - value: '128'
              newvalue: docsCableDownstream
            - value: '129'
              newvalue: docsCableUpstream
            - value: '130'
              newvalue: a12MppSwitch
            - value: '131'
              newvalue: tunnel
            - value: '132'
              newvalue: coffee
            - value: '133'
              newvalue: ces
            - value: '134'
              newvalue: atmSubInterface
            - value: '135'
              newvalue: l2vlan
            - value: '136'
              newvalue: l3ipvlan
            - value: '137'
              newvalue: l3ipxvlan
            - value: '138'
              newvalue: digitalPowerline
            - value: '139'
              newvalue: mediaMailOverIp
            - value: '140'
              newvalue: dtm
            - value: '141'
              newvalue: dcn
            - value: '142'
              newvalue: ipForward
            - value: '143'
              newvalue: msdsl
            - value: '144'
              newvalue: ieee1394
            - value: '145'
              newvalue: if-gsn
            - value: '146'
              newvalue: dvbRccMacLayer
            - value: '147'
              newvalue: dvbRccDownstream
            - value: '148'
              newvalue: dvbRccUpstream
            - value: '149'
              newvalue: atmVirtual
            - value: '150'
              newvalue: mplsTunnel
            - value: '151'
              newvalue: srp
            - value: '152'
              newvalue: voiceOverAtm
            - value: '153'
              newvalue: voiceOverFrameRelay
            - value: '154'
              newvalue: idsl
            - value: '155'
              newvalue: compositeLink
            - value: '156'
              newvalue: ss7SigLink
            - value: '157'
              newvalue: propWirelessP2P
            - value: '158'
              newvalue: frForward
            - value: '159'
              newvalue: rfc1483
            - value: '160'
              newvalue: usb
            - value: '161'
              newvalue: ieee8023adLag
            - value: '162'
              newvalue: bgppolicyaccounting
            - value: '163'
              newvalue: frf16MfrBundle
            - value: '164'
              newvalue: h323Gatekeeper
            - value: '165'
              newvalue: h323Proxy
            - value: '166'
              newvalue: mpls
            - value: '167'
              newvalue: mfSigLink
            - value: '168'
              newvalue: hdsl2
            - value: '169'
              newvalue: shdsl
            - value: '170'
              newvalue: ds1FDL
            - value: '171'
              newvalue: pos
            - value: '172'
              newvalue: dvbAsiIn
            - value: '173'
              newvalue: dvbAsiOut
            - value: '174'
              newvalue: plc
            - value: '175'
              newvalue: nfas
            - value: '176'
              newvalue: tr008
            - value: '177'
              newvalue: gr303RDT
            - value: '178'
              newvalue: gr303IDT
            - value: '179'
              newvalue: isup
            - value: '180'
              newvalue: propDocsWirelessMaclayer
            - value: '181'
              newvalue: propDocsWirelessDownstream
            - value: '182'
              newvalue: propDocsWirelessUpstream
            - value: '183'
              newvalue: hiperlan2
            - value: '184'
              newvalue: propBWAp2Mp
            - value: '185'
              newvalue: sonetOverheadChannel
            - value: '186'
              newvalue: digitalWrapperOverheadChannel
            - value: '187'
              newvalue: aal2
            - value: '188'
              newvalue: radioMAC
            - value: '189'
              newvalue: atmRadio
            - value: '190'
              newvalue: imt
            - value: '191'
              newvalue: mvl
            - value: '192'
              newvalue: reachDSL
            - value: '193'
              newvalue: frDlciEndPt
            - value: '194'
              newvalue: atmVciEndPt
            - value: '195'
              newvalue: opticalChannel
            - value: '196'
              newvalue: opticalTransport
            - value: '197'
              newvalue: propAtm
            - value: '198'
              newvalue: voiceOverCable
            - value: '199'
              newvalue: infiniband
            - value: '200'
              newvalue: teLink
            - value: '201'
              newvalue: q2931
            - value: '202'
              newvalue: virtualTg
            - value: '203'
              newvalue: sipTg
            - value: '204'
              newvalue: sipSig
            - value: '205'
              newvalue: docsCableUpstreamChannel
            - value: '206'
              newvalue: econet
            - value: '207'
              newvalue: pon155
            - value: '208'
              newvalue: pon622
            - value: '209'
              newvalue: bridge
            - value: '210'
              newvalue: linegroup
            - value: '211'
              newvalue: voiceEMFGD
            - value: '212'
              newvalue: voiceFGDEANA
            - value: '213'
              newvalue: voiceDID
            - value: '214'
              newvalue: mpegTransport
            - value: '215'
              newvalue: sixToFour
            - value: '216'
              newvalue: gtp
            - value: '217'
              newvalue: pdnEtherLoop1
            - value: '218'
              newvalue: pdnEtherLoop2
            - value: '219'
              newvalue: opticalChannelGroup
            - value: '220'
              newvalue: homepna
            - value: '221'
              newvalue: gfp
            - value: '222'
              newvalue: ciscoISLvlan
            - value: '223'
              newvalue: actelisMetaLOOP
            - value: '224'
              newvalue: fcipLink
            - value: '225'
              newvalue: rpr
            - value: '226'
              newvalue: qam
            - value: '227'
              newvalue: lmp
            - value: '228'
              newvalue: cblVectaStar
            - value: '229'
              newvalue: docsCableMCmtsDownstream
            - value: '230'
              newvalue: adsl2
            - value: '231'
              newvalue: macSecControlledIF
            - value: '232'
              newvalue: macSecUncontrolledIF
            - value: '233'
              newvalue: aviciOpticalEther
            - value: '234'
              newvalue: atmbond
            - value: '235'
              newvalue: voiceFGDOS
            - value: '236'
              newvalue: mocaVersion1
            - value: '237'
              newvalue: ieee80216WMAN
            - value: '238'
              newvalue: adsl2plus
            - value: '239'
              newvalue: dvbRcsMacLayer
            - value: '240'
              newvalue: dvbTdm
            - value: '241'
              newvalue: dvbRcsTdma
            - value: '242'
              newvalue: x86Laps
            - value: '243'
              newvalue: wwanPP
            - value: '244'
              newvalue: wwanPP2
            - value: '245'
              newvalue: voiceEBS
            - value: '246'
              newvalue: ifPwType
            - value: '247'
              newvalue: ilan
            - value: '248'
              newvalue: pip
            - value: '249'
              newvalue: aluELP
            - value: '250'
              newvalue: gpon
            - value: '251'
              newvalue: vdsl2
            - value: '252'
              newvalue: capwapDot11Profile
            - value: '253'
              newvalue: capwapDot11Bss
            - value: '254'
              newvalue: capwapWtpVirtualRadio
            - value: '255'
              newvalue: bits
            - value: '256'
              newvalue: docsCableUpstreamRfPort
            - value: '257'
              newvalue: cableDownstreamRfPort
            - value: '258'
              newvalue: vmwareVirtualNic
            - value: '259'
              newvalue: ieee802154
            - value: '260'
              newvalue: otnOdu
            - value: '261'
              newvalue: otnOtu
            - value: '262'
              newvalue: ifVfiType
            - value: '263'
              newvalue: g9981
            - value: '264'
              newvalue: g9982
            - value: '265'
              newvalue: g9983
            - value: '266'
              newvalue: aluEpon
            - value: '267'
              newvalue: aluEponOnu
            - value: '268'
              newvalue: aluEponPhysicalUni
            - value: '269'
              newvalue: aluEponLogicalLink
            - value: '270'
              newvalue: aluGponOnu
            - value: '271'
              newvalue: aluGponPhysicalUni
            - value: '272'
              newvalue: vmwareNicTeam
            - value: '277'
              newvalue: docsOfdmDownstream
            - value: '278'
              newvalue: docsOfdmaUpstream
            - value: '279'
              newvalue: gfast
            - value: '280'
              newvalue: sdci
            - value: '281'
              newvalue: xboxWireless
            - value: '282'
              newvalue: fastdsl
            - value: '283'
              newvalue: docsCableScte55d1FwdOob
            - value: '284'
              newvalue: docsCableScte55d1RetOob
            - value: '285'
              newvalue: docsCableScte55d2DsOob
            - value: '286'
              newvalue: docsCableScte55d2UsOob
            - value: '287'
              newvalue: docsCableNdf
            - value: '288'
              newvalue: docsCableNdr
            - value: '289'
              newvalue: ptm
            - value: '290'
              newvalue: ghn
        - uuid: 2405c569c9cc45e6ba9f0bde5e689347
          name: 'Service state'
          mappings:
            - value: '0'
              newvalue: Down
            - value: '1'
              newvalue: Up
        - uuid: 62b28fdc3172428caf2950a564a69d03
          name: SMGEOnePhyState
          mappings:
            - value: '0'
              newvalue: 'off'
            - value: '1'
              newvalue: alarm
            - value: '2'
              newvalue: lossOfSignal
            - value: '3'
              newvalue: alarmIndicationSignal
            - value: '4'
              newvalue: lossOfFrame
            - value: '5'
              newvalue: lossOfMultiframe
            - value: '6'
              newvalue: work
            - value: '7'
              newvalue: test
        - uuid: fcb9d2a74bc84d799e23732aff99616e
          name: SMGMSPState
          mappings:
            - value: '0'
              newvalue: notPresent
            - value: '1'
              newvalue: noInit
            - value: '2'
              newvalue: 'off'
            - value: '3'
              newvalue: failed
            - value: '4'
              newvalue: recovery
            - value: '5'
              newvalue: waitAck
            - value: '6'
              newvalue: work
            - value: '7'
              newvalue: reserved
            - value: '8'
              newvalue: sswsorm
        - uuid: 1f375e4ccfe241b8af94ab58b560553e
          name: SMGStateAlarm
          mappings:
            - value: '0'
              newvalue: normal
            - value: '1'
              newvalue: alarmLosAisLofLomf
            - value: '2'
              newvalue: remoteAlarm
            - value: '8'
              newvalue: slipAlarm
        - uuid: 118fa799b1884f7eac187ff9da76b5b5
          name: SMGWork
          mappings:
            - value: '0'
              newvalue: noWork
            - value: '1'
              newvalue: inWork
        - uuid: 795876f217cc40a38709d6f09c35e23f
          name: zabbix.host.available
          mappings:
            - value: '0'
              newvalue: 'not available'
            - value: '1'
              newvalue: available
            - value: '2'
              newvalue: unknown
  triggers:
    - uuid: ef3146f8f4e643fb81154cfc290e047d
      expression: '(last(/Eltex SMG1016m/system.hw.uptime[hrSystemUptime.0])>0 and last(/Eltex SMG1016m/system.hw.uptime[hrSystemUptime.0])<10m) or (last(/Eltex SMG1016m/system.hw.uptime[hrSystemUptime.0])=0 and last(/Eltex SMG1016m/system.net.uptime[sysUpTime.0])<10m)'
      name: 'Eltex SMG: Host has been restarted'
      event_name: 'Eltex SMG: {HOST.NAME} has been restarted (uptime < 10m)'
      priority: WARNING
      description: 'Uptime is less than 10 minutes.'
      manual_close: 'YES'
      dependencies:
        - name: 'Eltex SMG: No SNMP data collection'
          expression: 'max(/Eltex SMG1016m/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
      tags:
        - tag: scope
          value: notice
  graphs:
    - uuid: 9baf2ca5693f4524b63fedd8c1c75516
      name: 'CPU Usage'
      graph_items:
        - drawtype: FILLED_REGION
          color: FF4000
          calc_fnc: ALL
          item:
            host: 'Eltex SMG1016m'
            key: ELTEX-SMG.cpuUsage.1
    - uuid: dc6c9c95d536436d8d66a98828eae588
      name: Registrations
      graph_items:
        - drawtype: BOLD_LINE
          color: 1A7C11
          calc_fnc: ALL
          item:
            host: 'Eltex SMG1016m'
            key: ELTEX-SMG.registrationCount.0
    - uuid: 366e968e468543ac9df3fd52b9fe85af
      name: 'Temperatures & Fans'
      graph_items:
        - color: FF0000
          calc_fnc: ALL
          item:
            host: 'Eltex SMG1016m'
            key: ELTEX-SMG.smgTemperature1.0
        - sortorder: '1'
          color: BF00FF
          calc_fnc: ALL
          item:
            host: 'Eltex SMG1016m'
            key: ELTEX-SMG.smgTemperature2.0
        - sortorder: '2'
          color: '274482'
          yaxisside: RIGHT
          calc_fnc: ALL
          item:
            host: 'Eltex SMG1016m'
            key: ELTEX-SMG.smgFan0.0
        - sortorder: '3'
          color: 1A7C11
          yaxisside: RIGHT
          calc_fnc: ALL
          item:
            host: 'Eltex SMG1016m'
            key: ELTEX-SMG.smgFan1.0
